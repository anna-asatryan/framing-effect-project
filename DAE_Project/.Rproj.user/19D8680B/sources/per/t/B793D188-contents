---
title: "DAE Project"
author: "Anna Asatryan"
date: "2025-11-23"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(dplyr)
library(psych)
library(tidyr)
library(rcompanion)
library(ggplot2)



```


**Data Preparation**

```{r}
pos <- read.csv("data/PositiveFrame.csv", sep = ";")
neg <- read.csv("data/NegativeFrame.csv", sep = ";")
```

Renaming columns
```{r}
pos <- pos %>% rename(
  Gender = What.is.your.gender.,
  AgeGroup = Which.age.group.do.you.belong.to.,

  S1_Decision = X1.1..Would.you.consider.purchasing.this.supplement.,
  S1_Confidence = X1.2..How.confident.are.you.in.your.decision....1...Not.confident.at.all..7...Very.confident.,
  S1_Effectiveness = X1.3..How.effective.do.you.think.this.supplement.is...1...Not.effective..7...Very.effective.,

  S2_Decision = X2.1..Would.you.sign.up.for.this.savings.plan.,
  S2_Confidence = X2.2..How.confident.are.you.in.your.decision.,
  S2_Effectiveness = X2.3..How.effective.do.you.think.this.savings.plan.is.,

  S3_Decision = X3.1..Would.you.register.for.this.recycling.program.,
  S3_Confidence = X3.2..How.confident.are.you.in.your.decision.,
  S3_Effectiveness = X3.3..How.effective.do.you.think.this.program.is.,

  DecisionStyle = Lastly..how.would.you.describe.your.decision.making.style.
)

neg <- neg %>% rename(
  Gender = What.is.your.gender.,
  AgeGroup = Which.age.group.do.you.belong.to.,

  S1_Decision = X1.1..Would.you.consider.purchasing.this.supplement.,
  S1_Confidence = X1.2..How.confident.are.you.in.your.decision.....1...Not.confident.at.all..7...Very.confident.,
  S1_Effectiveness = X1.3..How.effective.do.you.think.this.supplement.is.....1...Not.effective..7...Very.effective.,

  S2_Decision = X2.1..Would.you.sign.up.for.this.savings.plan.,
  S2_Confidence = X2.2..How.confident.are.you.in.your.decision.,
  S2_Effectiveness = X2.3..How.effective.do.you.think.this.savings.plan.is.,

  S3_Decision = X3.1..Would.you.register.for.this.recycling.program.,
  S3_Confidence = X3.2..How.confident.are.you.in.your.decision.,
  S3_Effectiveness = X3.3..How.effective.do.you.think.this.program.is.,

  DecisionStyle = Lastly..how.would.you.describe.your.decision.making.style.
)
```


```{r}
names(pos)
names(neg)
```

Merging the DFs with FrameType column
```{r}
pos$FrameType <- 1
neg$FrameType <- 0
data <- rbind(pos, neg)
```

Data types
```{r}
data$S1_Decision <- ifelse(data$S1_Decision == "Yes", 1, 0)
data$S2_Decision <- ifelse(data$S2_Decision == "Yes", 1, 0)
data$S3_Decision <- ifelse(data$S3_Decision == "Yes", 1, 0)
str(data[, c("S1_Decision", "S2_Decision", "S3_Decision")])
```


Calculating averages
```{r}
data$DecisionComposite <- rowMeans(
  data[, c("S1_Decision", "S2_Decision", "S3_Decision")]
)

data$ConfidenceComposite <- rowMeans(
  data[, c("S1_Confidence", "S2_Confidence", "S3_Confidence")]
)

data$EffectivenessComposite <- rowMeans(
  data[, c("S1_Effectiveness", "S2_Effectiveness", "S3_Effectiveness")]
)
```

```{r}
head(data)
```


**Data Analysis**

```{r}
alpha(data[, c("S1_Decision", "S2_Decision", "S3_Decision")])
alpha(data[, c("S1_Confidence", "S2_Confidence", "S3_Confidence")])
alpha(data[, c("S1_Effectiveness", "S2_Effectiveness", "S3_Effectiveness")])
```


To evaluate whether responses across the three scenarios measured consistent underlying constructs, 
Cronbach’s α was computed separately for decision choices, confidence ratings, and perceived effectiveness ratings.

*Decision Items (Yes/No Responses)*
The three binary decision items (S1–S3) showed excellent internal consistency,
Cronbach’s α = 0.92 (95% CI: 0.85–0.96).
This indicates that participants who accepted one option were highly likely to 
accept the others as well, suggesting a stable tendency toward “willingness to act” across domains.
Because of this strong reliability, a Decision Composite was computed by averaging the three Yes/No responses.

*Perceived Effectiveness Ratings (1–7 Scale)*
The effectiveness ratings demonstrated good internal reliability,
Cronbach’s α = 0.89 (95% CI: 0.79–0.96).
Inter-item correlations were strong (average r ≈ 0.72), indicating that perceived effectiveness was judged 
consistently across the health, financial, and environmental scenarios.
Given this reliability level, a Perceived Effectiveness Composite was created by averaging all three ratings.

*Confidence Ratings (1–7 Scale)*
Confidence ratings showed lower internal consistency,
Cronbach’s α = 0.50 (95% CI: approx. 0.40–0.88).
This outcome is expected, as confidence often varies substantially by context 
(e.g., participants may feel highly confident about health decisions but less certain about financial decisions).
Despite the moderate reliability, the items still showed positive correlations, and following the planned analysis approach, 
a Confidence Composite was computed by averaging the three confidence scores to examine framing effects on overall decision certainty.


*Positive vs Negative Frames*
```{r}
long_decisions <- data %>%
  select(FrameType, S1_Decision, S2_Decision, S3_Decision) %>%
  pivot_longer(cols = starts_with("S"), names_to = "Scenario", values_to = "Decision")

head(long_decisions)
```


```{r}
decision_table <- long_decisions %>%
  group_by(FrameType) %>%
  summarise(
    Yes = sum(Decision),
    No = n() - sum(Decision),
    Total = n()
  )

decision_table
```


```{r}
decision_matrix <- matrix(c(1, 44,
                            41, 4),
                          nrow = 2, byrow = TRUE)

rownames(decision_matrix) <- c("Negative", "Positive")
colnames(decision_matrix) <- c("Yes", "No")

decision_matrix

chisq.test(decision_matrix)
cramerV(decision_matrix)
```

To test whether framing influenced participants’ decision choices, a chi-square test of independence 
was conducted on the three Yes/No decisions aggregated per framing condition. The contingency table 
showed a striking divergence in choices across conditions: in the negative frame, only 1 out of 45 responses 
were affirmative, whereas 41 out of 45 responses were affirmative in the positive frame.
The chi-square test revealed a highly significant association between framing condition and decision choice,
χ²(1, N = 90) = 67.90, p < .001.

The effect size, measured using Cramer’s V, was 0.89, indicating an extremely large framing effect.
These results strongly support H₁, showing that participants were far more likely to choose the affirmative option 
when the information was presented in positive terms compared to negative terms.



```{r}
plot_decision <- long_decisions %>%
  group_by(FrameType) %>%
  summarise(
    YesRate = mean(Decision)
  ) %>%
  mutate(Frame = ifelse(FrameType == 1, "Positive", "Negative"))

ggplot(plot_decision, aes(x = Frame, y = YesRate, fill = Frame)) +
  geom_col(width = 0.6, color = "black") +
  geom_text(aes(label = round(YesRate, 2)), vjust = -0.5, size = 5) +
  scale_y_continuous(limits = c(0, 1), breaks = seq(0,1,0.2)) +
  scale_fill_manual(values = c("Positive" = "#4CAF50", 
                               "Negative" = "#F44336")) +
  labs(
    title = "Proportion of 'Yes' Decisions by Frame Type",
    x = "Framing Condition",
    y = "Yes Proportion"
  ) +
  theme_minimal(base_size = 15)
```


```{r}
long_conf <- data %>%
  pivot_longer(cols = c(S1_Confidence, S2_Confidence, S3_Confidence),
               names_to = "Scenario", values_to = "Confidence")

long_conf$Frame <- factor(ifelse(long_conf$FrameType == 1, "Positive", "Negative"))

ggplot(long_conf, aes(x = Frame, y = Confidence, fill = Frame)) +
  geom_boxplot() +
  facet_wrap(~Scenario) +
  scale_fill_manual(values = c("Positive" = "#4CAF50", 
                               "Negative" = "#F44336")) +
  theme_minimal(base_size = 15) +
  labs(
    title = "Confidence Ratings by Scenario and Frame Type",
    x = "Frame Type",
    y = "Confidence (1–7)"
  )
```


```{r}
```


```{r}
```


```{r}
```

